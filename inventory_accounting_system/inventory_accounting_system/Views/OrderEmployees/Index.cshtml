@using Microsoft.AspNetCore.Identity
@model IEnumerable<inventory_accounting_system.Models.OrderEmployee>

@inject SignInManager<Employee> SignInManager
@inject UserManager<Employee> UserManager

@{
    ViewData["Title"] = "Index";
}

@*@if (SignInManager.IsSignedIn(User))
    {

        if (User.IsInRole("Manager"))
        {

        }
    }*@
<h2>Index</h2>


@*-----------------------------------------------------------------------------------------------------------------------------------------*@

@*<div class="container">
        <h2>@Html.DisplayFor(modelItem => item.Title)</h2>
        <p>Click on the button to toggle between showing and hiding content.</p>
        <button type="button" class="btn btn-info" data-toggle="collapse" data-target="#demo">Simple collapsible</button>
        <div id="demo" class="collapse">
            Lorem ipsum dolor sit amet, consectetur adipisicing elit,
            sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
            quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
        </div>
    </div>*@

@*<div class="panel panel-default">
        <div class="panel-heading">
            <a class="btn btn-primary" data-toggle="collapse" href="#imageGallery">

            </a>
        </div>

        <div class="panel-body collapse" id="imageGallery">

        </div>
    </div>*@


@*-----------------------------------------------------------------------------------------------------------------------------------------*@

@foreach (var item in Model)
{
    if (item.Status == "New")
    {
        <div class="panel panel-default">
            <div class="panel-heading">
                <a class="btn btn-success" data-toggle="collapse" data-id="@item.Id" onclick="GetMessageId()" id="clickId"  href="#imageGallery-@item.Id" style="width: 100%">
                    <p style="color: white">
                        от:
                        @Html.DisplayFor(modelItem => item.EmployeeTo.Name) :
                        @Html.DisplayFor(modelItem => item.Title)
<<<<<<< refs/remotes/origin/develop
                    </td>
                    <td>
                        <div>@Html.DisplayFor(modelItem => item.Content)</div>
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.DateFrom)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Employee.Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Office.Title)
                    </td>
                </tr>
            }
        }
    
    </tbody>
</table>
=======
                    </p>
                </a>
            </div>
            <div class="panel-body collapse" id="imageGallery-@item.Id">
                <h3 >@Html.DisplayFor(modelItem => item.Title)</h3><br />
                <div style="width: 100%">
                    <h2 >@Html.DisplayFor(modelItem => item.Content)</h2>
                </div> <br />
                <p >@Html.DisplayFor(modelItem => item.DateFrom)</p>
            </div>
        </div>
    }
}

<script>
    var idMessage;
    function GetMessageId() {
        var messageId = document.getElementById('clickId');
        idMessage = messageId.getAttribute('data-id');
        alert(idMessage);

        $.ajax({
            type: 'POST',
            url: '@Url.Action("OrderStatus", "OrderEmployees")',
            data: {
                idMessage: idMessage
            },
            success: function (data) {
                console.log('success!');
            }
        });
    }
</script>
>>>>>>> #82 Started working on the text
